Could you help us fix this code by extracting into a separate class.
The new class should not be dependent on curses.